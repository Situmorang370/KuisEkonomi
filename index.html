<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuis Teori Ekonomi Pra-Klasik</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4CAF50;
            --secondary-color: #2e7d32;
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --text-color: #333;
            --placeholder-color: #999;
            --shadow-light: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            text-align: center;
            line-height: 1.6;
        }
        .container {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 12px;
            box-shadow: var(--shadow-light); /* Menambahkan bayangan untuk efek kartu */
            max-width: 500px;
            width: 90%;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        input {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 1em;
            box-sizing: border-box;
        }
        button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 14px 30px;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 10px;
            font-weight: 600;
            transition: background-color 0.3s ease;
        }
        button:hover:not(:disabled) {
            background: var(--secondary-color);
        }
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        .question {
            font-weight: 600;
            font-size: 1.2em;
            margin-bottom: 20px;
            text-align: left;
            width: 100%;
        }
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            width: 100%;
            margin-bottom: 20px;
        }
        /* Styling baru untuk tombol pilihan ganda */
        .option-btn {
            padding: 15px; /* Padding lebih besar */
            background: var(--card-bg);
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); /* Bayangan lembut */
            cursor: pointer;
            text-align: left;
            font-size: 1em;
            color: var(--text-color);
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.2s ease;
        }
        .option-btn:hover:not(:disabled) {
            background: #f5f5f5;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }
        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        .feedback {
            font-weight: 700;
            font-size: 1.1em;
            margin-bottom: 20px;
        }
        .correct {
            color: #28a745;
        }
        .incorrect {
            color: #dc3545;
        }
        .correct-answer {
            background-color: #A5D6A7 !important;
            border-color: #66BB6A !important;
            color: #333 !important;
        }
        .incorrect-answer {
            background-color: #EF9A9A !important;
            border-color: #EF5350 !important;
            color: #333 !important;
        }
        #review-nav {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        #review-nav button {
            width: 120px;
        }
        #error-msg {
            color: #dc3545;
            font-weight: 600;
            margin-top: 10px;
            display: none;
        }

        @media screen and (max-width: 600px) {
            .container {
                padding: 25px;
                width: 95%;
            }
            h2 {
                font-size: 1.5em;
            }
            .question {
                font-size: 1em;
            }
            .option-btn {
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>

<div class="container" id="start-page">
    <h2>Selamat Datang</h2>
    <p>Silakan isi data diri Anda untuk memulai kuis.</p>
    <input type="text" id="nama" placeholder="Nama Lengkap" />
    <input type="email" id="email" placeholder="Email" />
    <input type="text" id="nim" placeholder="NIM (minimal 8 karakter)" />
    <input type="text" id="kelas" placeholder="Kelas" />
    <div id="error-msg"></div>
    <button id="start-btn">Mulai Kuis</button>
</div>

<div class="container" id="quiz-container" style="display:none;">
    <h2>Kuis Teori Ekonomi Pra-Klasik</h2>
    <div class="question" id="question-text"></div>
    <div class="options" id="options-container"></div>
    <div class="feedback" id="feedback"></div>
    <div id="review-nav" style="display:none;">
        <button id="prev-btn">⬅️ Sebelumnya</button>
        <button id="next-btn">Selanjutnya ➡️</button>
    </div>
</div>

<div class="container" id="result-container" style="display:none;">
    <h3>Hasil Kuis</h3>
    <p>Skor Anda: <span id="score"></span> dari <span id="total"></span></p>
    <p>Jawaban Salah: <span id="wrong"></span></p>
    <p id="submission-status" style="color:#777; font-style: italic;">Menyimpan data...</p>
    <button id="review-btn">Tinjau Jawaban</button>
    <button id="restart-btn">Mulai Kuis Lagi</button>
</div>

<script>
    const WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbxt_6seVW8nNujAK6jRorBWYfvz8KBhQQ4IQzD6g6juzbJ82SyeP3SPEWw0rHk3f1GotA/exec'; 
    
    const startPage = document.getElementById('start-page');
    const quizContainer = document.getElementById('quiz-container');
    const resultContainer = document.getElementById('result-container');
    const questionText = document.getElementById('question-text');
    const optionsContainer = document.getElementById('options-container');
    const feedback = document.getElementById('feedback');
    const reviewNav = document.getElementById('review-nav');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const submissionStatus = document.getElementById('submission-status');
    const scoreSpan = document.getElementById('score');
    const totalSpan = document.getElementById('total');
    const wrongSpan = document.getElementById('wrong');
    const reviewBtn = document.getElementById('review-btn');
    const restartBtn = document.getElementById('restart-btn');
    const errorMsg = document.getElementById('error-msg');

    const namaInput = document.getElementById('nama');
    const emailInput = document.getElementById('email');
    const nimInput = document.getElementById('nim');
    const kelasInput = document.getElementById('kelas');
    const startBtn = document.getElementById('start-btn');

    let studentData = {};
    let currentQuestionIndex = 0;
    let score = 0;
    let wrong = 0;
    let userAnswers = [];
    let isReviewMode = false;

    const questions = [
        {
            question: "Tokoh merkantilisme menekankan surplus perdagangan sebagai sumber kekayaan negara, sedangkan fisiokrat menekankan sektor pertanian. Jika kedua aliran tersebut dihadapkan pada kondisi modern Indonesia yang kaya sumber daya alam namun impor pangan masih tinggi, maka perbedaan pandangan mereka akan terlihat pada…",
            options: [
                "Merkantilis mendukung impor besar-besaran, fisiokrat menekankan ekspor hasil industri.",
                "Merkantilis menolak ekspor hasil pertanian, fisiokrat mendukung impor pangan murah.",
                "Merkantilis mendorong proteksi industri dan perdagangan, fisiokrat mendorong optimalisasi sektor pertanian.",
                "Keduanya sama-sama menekankan liberalisasi perdagangan internasional."
            ],
            answer: "Merkantilis mendorong proteksi industri dan perdagangan, fisiokrat mendorong optimalisasi sektor pertanian."
        },
        {
            question: "Jika pemerintah saat ini menaikkan tarif impor beras untuk melindungi petani lokal, maka berdasarkan teori pra-klasik, kebijakan tersebut lebih sesuai dengan pemikiran…",
            options: [
                "Merkantilisme, karena mendukung surplus perdagangan lewat proteksi.",
                "Fisiokrat, karena mendorong pertanian menjadi sumber kekayaan sejati.",
                "Merkantilisme, karena fokus pada perdagangan logam mulia.",
                "Pemikir individual, karena menekankan rasionalitas konsumen."
            ],
            answer: "Merkantilisme, karena mendukung surplus perdagangan lewat proteksi."
        },
        {
            question: "Thomas Aquinas menekankan “harga yang adil” sebagai prinsip ekonomi. Dalam konteks ekonomi digital saat ini, prinsip ini paling relevan jika diterapkan pada…",
            options: [
                "Penetapan harga saham di bursa efek.",
                "Pengawasan harga obat esensial oleh pemerintah.",
                "Persaingan harga tiket online oleh aplikasi travel.",
                "Mekanisme lelang barang antik."
            ],
            answer: "Pengawasan harga obat esensial oleh pemerintah."
        },
        {
            question: "David Hume mengkritik merkantilisme karena penumpukan logam mulia berlebih dapat menimbulkan inflasi. Jika fenomena serupa terjadi ketika cadangan devisa suatu negara meningkat drastis, maka kelemahan merkantilisme yang tampak adalah…",
            options: [
                "Keseimbangan neraca pembayaran otomatis stabil.",
                "Logam mulia tidak selalu menjamin stabilitas harga.",
                "Inflasi dapat ditekan dengan memperbesar ekspor.",
                "Kekayaan negara hanya ditentukan oleh produktivitas pertanian."
            ],
            answer: "Logam mulia tidak selalu menjamin stabilitas harga."
        },
        {
            question: "Bayangkan kamu adalah penasihat ekonomi pada masa pra-klasik. Negara sedang menghadapi defisit perdagangan dan hasil pertanian rendah. Jika kamu harus menggabungkan prinsip merkantilisme dan fisiokrat, kebijakan yang paling logis adalah…",
            options: [
                "Membatasi impor barang mewah, sekaligus memberikan insentif besar pada sektor pertanian.",
                "Meningkatkan ekspor pertanian dengan cara menurunkan tarif impor pangan.",
                "Mengutamakan perdagangan bebas sembari membatasi kepemilikan tanah.",
                "Fokus hanya pada pertanian sebagai satu-satunya sumber kekayaan negara."
            ],
            answer: "Membatasi impor barang mewah, sekaligus memberikan insentif besar pada sektor pertanian."
        },
